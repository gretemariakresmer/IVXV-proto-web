<div class="party-tree">
  <ul class="party-list">
    <li *ngFor="let party of filteredParties" class="party-group">
      <div class="party-header" (click)="toggle(party)">
        <span class="arrow" [class.expanded]="party.expanded">â–¶</span>
        {{ party.party }}
      </div>
      <ul *ngIf="party.expanded" class="candidate-list">
        <li *ngFor="let candidate of party.candidates"
            class="candidate-item"
            (click)="pick(candidate, party.party); $event.stopPropagation()"
        >
          {{candidate.id}} - {{ candidate.firstName }} {{ candidate.lastName }}
        </li>
      </ul>
    </li>
  </ul>
  <div class="search-box">
    <input
      type="text"
      placeholder="Otsi"
      [(ngModel)]="searchTerm"
      (ngModelChange)="onSearch($event)"
    />
  </div>
</div>
